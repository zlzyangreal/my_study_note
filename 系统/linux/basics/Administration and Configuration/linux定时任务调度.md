# 定时任务调度

## crond 任务调度
定时任务调度(循环型)

crontab [选项]

选项：

    -e  编辑crontab定时任务

    -l  查询crontab任务

    -r  删除当前用户所有的crontab任务

五个占位符含义：

    第一个  分钟    0-59

    第二个  小时    0-23

    第三个  天      1-31

    第四个  月      1-12

    第五个  星期    0-7(0和7都是周日)

特殊符号：

    *       代表任何时间

    ,       代表不连续时间

    -       代表连续时间

    */n     代表间隔多久执行一次

例子：  */10 4 * * *    凌晨4点每隔10分钟执行一次

步骤:   

        (1)写脚本

        (2)增加执行权限

        (3)crontab -e

crond相关指令:

    crontab -r              终止任务调度

    crontab -l              列出当前有哪些任务调度

    service crond restart   重启任务调度

## at任务调度
定时任务调度(一次性)

使用前需要先检查atd进程的启用

ps -ef | grep atd

at （选项）（时间）

Ctrl + D结束at命令的输入(输入两次)

选项:

    -m  当指定的任务被完成后，将给用户发送邮件，即使没有标准输出

    -I  atq的别名(显示待执行的 at 任务队列的命令)

    -d  atrm的别名(删除 at 任务，通过提供任务编号来指定要删除的任务)

    -v  显示任务将被执行的时间

    -c  打印任务的内容到标准输出

    -V  显示版本信息

    -q[队列]    使用指定的队列

    -f[文件]    从指定文件读入任务而不是标准输入读入

    -t[时间参数]以时间参数形式提交要运行的任务

at指定时间的方法:

    (1)04:00(小时:分钟(若时间已过，第二天执行))

    (2)midnight noon teatime

    (3)12pm(12小时计时)

    (4)04:00 2021-03-1

    (5)now + 5 minutes(相对时间)

    (6)today tomorrow

