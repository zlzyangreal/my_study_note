# 备份与恢复

备份
----
指令：

dump [-cu] [-123456789] [-f<备份后文件名>] [-T<日期>] [目录文件系统]

dump []-wW
* -c                创建新的归档文件，并将由一个或多个文件参数所指定的内容写入归档文件的开头
* -u                用于更新现有的备份。这将更新已存在的备份，将文件系统中的更改添加到备份中，在/etc/dumpdares
* -123456789        备份的层级。0为最完整备份，会备份所有文件。0以上的层级，则备份至上一次备份以来修改或新建的文件，到9再次从0开始
* -f<备份后文件名>      指定备份后文件名
* -j                调用bzlib库压缩备份文件，也就是将备份后的文件压缩成bz2格式，让文件更小
* -T<日期>              指定开始备份的时间与日期
* -t                指定文件名，若该文件已存在备份文件中，则列出名称
* -W                显示需要备份的文件及其最后一次备份的层级，时间。日期
* -w                与-W类似，但仅显示需要备份的文件
例子
~~~
dump -0uj -f /opt/boot.bak1.bz2 /boot
~~~

dump -W

显示需要备份的文件及其最后一次备份的层级，时间，日期

恢复
----
指令：

restore [模式选项] [选项]

模式选项
* 不能混用，在一次命令中，只能指定一种
* -C    使用对比模式，将备份的文件与已存在的文件相互对比
* -i    使用交互模式，在进行还原操作时，restors指令依序询问用户
* -r    进行还原模式
* -t    查看模式，看备份文件有哪些文件
选项
* -f<备份设备>  从指定的文件中读取备份数据，进行还原操作