# shell编程
命令解释器，脚本

#!/bin/bash
-----------
脚本头文件

echo "[输出内容]"
-----------------
脚本输出

shell变量
---------
***定义变量***
[变量名]=[值]

***撤销变量***
unset [变量]

***声明静态变量***
readonly [变量]
* 静态变量不能 unset

例子
----
```shell
#!/bin/bash
a=100
echo "a=$a"
unset a
readonly b=2
#单行注释
:<<!
多行注释
!
c=`ls -l`
```
* 等号两边不能有空格
* 反引号是执行里面的命令，将返回值赋给c，``a=`date` ``与``a=$(date)``等价

位置参数变量
-----------
~~~
$n  n为数字，$0代表命令本身，$1-$9代表第一到第九个参数，十以上的参数需要用大括号，如${11}
$*  命令行中所有的参数(把所有的参数看成了一个整体)
$@  命令行中所有的参数(每个参数区分对待)
$#  命令行中所有参数个数
~~~

预变量
------

~~~
$$  当前进程的进程号(PID)
$!  后台运行的最后一个进程的进程号
$?  最后一次执行命令的返回状态。返回值为0证明上一个命令正常执行
~~~

运算符
------
语法
```shell
$((运算式))
$[运算式]
expr [变量][运算][变量]
```

expr运算
* ``\*``    乘
* ``/``     除
* ``%``     取余

条件判断
-------
语法

```shell
if [ 条件判断语句 ]
then
代码
elif [ 条件判断语句 ]
代码
fi
```
* 非空返回ture
* 空返回false
* 条件判断语句两边要有空格

判断条件
~~~
字符串比较
=   

整数比较
-lt     小于
-le     小于等于
-eq     等于
-gt     大于
-ge     大于等于
-ne     不等于

文件权限判断
-r      读权限
-w      写权限
-x      执行权限

文件类型判断
-f      文件存在并且是一个常规文件
-e      文件存在
-d      文件存在并是一个目录
~~~

case语句
--------
语法
```shell
case $变量名 in
"值1")
代码
;;
"值2")
代码
;;
*)
代码
;;
esac
```

for循环
------
语法
```shell
for 变量 in 值1 值2...
do
代码
done

for((初始值;循环控制条件;变量变换))
do
代码
done
```

while循环
--------
```shell
while [ 条件判断语句 ]
do
代码
done
```

read [选项] [参数]
----------------
读取控制台输入
* 选项和参数之间有空格

选项
* -p    指定读取时发送出的提示语句
* -t    指定读取值的等待时间(单位秒)

系统函数
--------
***``basename [文件绝对路径] [后缀]``***

返回文件名

***``dirname [文件绝对路径]``***

返回文件路径

自定义函数
---------
例子
```shell
#!/bin/bash
function getsum(){
    SUM=$[$n1+$n2]
    echo "sum=$SUM"
}

read -p "input fist number" n1
read -p "input secend number" n2

getsum $n1 $n2
```