# gdb调试器
功能
----
* 设置断点(断点可以是表达式)
* 单步执行程序便于调试
* 查看程序中变量值的变化
* 动态分析改变程序的执行环境
* 分析崩溃程序产生的core文件

gdb调试文件必须要`gcc`配置时输入`-g`选项

输入时输入`-q`去掉免责声明

运行
----
1. run（简写r）： 运行程序，当遇到断点后，程序会在断点处停止运行，等待用户输入下一步的命令。
2. continue（简写c）：继续执行，到下一个断点处（或运行结束）
3. next（简写n）： 单步跟踪程序，当遇到函数调用时，直接调用，不进入此函数体；
4. step（简写s）：单步调试如果有函数调用，则进入函数；与命令n不同，n是不进入调用的函数的
5. until：运行程序直到退出循环体; / until+行号： 运行至某行
6. finish： 运行程序，直到当前函数完成返回，并打印函数返回时的堆栈地址和返回值及参数值等信息。
7. call 函数(参数)：调用“函数”，并传递“参数”，如：call gdb_test(55)
8. quit：简记为 q ，退出gdb

设置断点
--------
1. break n（简写b n）:在第n行处设置断点 ;可以带上代码路径和代码名称： b OAGUPDATE.cpp:578）
2. break func：在函数func()的入口处设置断点，如：break cb_button
3. delete 断点号n：删除第n个断点
4. disable 断点号n：暂停第n个断点
5. enable 断点号n：开启第n个断点
6. clear 行号n：清除第n行的断点
7. info breakpoints（简写info b） ：显示当前程序的断点设置情况

查看源代码
----------
1. list（简写l）：列出程序的源代码，默认每次显示10行。
2. list 行号：将显示当前文件以“行号”为中心的前后10行代码，如：list 12
3. list 函数名：将显示“函数名”所在函数的源代码，如：list main
4. list ：不带参数，将接着上一次 list 命令的，输出下边的内容。

打印表达式
---------
1. print 表达式：简记为 p ，其中“表达式”可以是任何当前正在被测试程序的有效表达式，比如当前正在调试C语言的程序，那么“表达式”可以是任何C语言的有效表达式，包括数字，变量甚至是函数调用。
2. print a：将显示整数 a 的值
3. print ++a：将把 a 中的值加1,并显示出来
4. print name：将显示字符串 name 的值
5. print gdb_test(22)：将以整数22作为参数调用 gdb_test() 函数
6. print gdb_test(a)：将以变量 a 作为参数调用 gdb_test() 函数

7. display 表达式：在单步运行时将非常有用，使用display命令设置一个表达式后，它将在每次单步进行指令后，紧接着输出被设置的表达式及值。如： display a
8. watch 表达式：设置一个监视点，一旦被监视的“表达式”的值改变，gdb将强行终止正在被调试的程序。如： watch a

查询运行信息
------------
1. where/bt ：当前运行的堆栈列表
2. set args 参数:指定运行时的参数
3. show args：查看设置好的参数
4. info program： 来查看程序的是否在运行，进程号，被暂停的原因

分割窗口
--------
1. layout：用于分割窗口，可以一边查看代码，一边测试：
2. layout src：显示源代码窗口
3. layout asm：显示反汇编窗口
4. layout regs：显示源代码/反汇编和CPU寄存器窗口
5. layout split：显示源代码和反汇编窗口
6. Ctrl + L：刷新窗口

更多指令
-------
https://blog.csdn.net/weiwangchao_/article/details/11882617